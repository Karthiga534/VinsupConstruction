{% extends "base.html" %}

{% load static %}

{% block header2 %}   
<style>
    .image {
        height: 110px;
        width: 110px;
        margin: auto;
        border-radius: 50%;
        position: relative;
        overflow: hidden;
    }
    .image img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
    }
    .image input[type="file"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }
    @media screen and (max-width: 780px) {
        #pro {
            width: 100% !important;
        }
    }
</style>

        <div class="main-content">
            <div class="page-content">
                <div class="container-fluid">
                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0">Profile</h4>
                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Company</a></li>
                                        <li class="breadcrumb-item active">Profile</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">                        
						<div class="card mb-3" id="pro" style="width:50%;margin:auto;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
							<div class="card-body">
								<h2>Company Profile</h2>
								<hr>
                                <!-- <form method="post" action="{% url 'update_profile' %}" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    <div class="row"> -->
                                        <form method="post" action="{% url 'update_profile' %}" enctype="multipart/form-data">
                                            {% csrf_token %}

                                                <div class="row">
                                                    <div class="form-group mb-2">
                                                        <div class="image">
                                                            {% if company_profile.image %}
                                                                <img src="{{ company_profile.image }}" alt="Profile Image" id="upload-img">
                                                            {% else %}
                                                                <img src="{% static 'path/to/default/image.jpg' %}" alt="Default Image" id="upload-img">
                                                            {% endif %}
                                                            <input type="file" name="image" id="image"> 
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                        
                                        
                                        <div class="form-group mb-2">
                                            <label for="company" class="form-label">Company Name :</label>
                                            <input type="text" class="form-control" id="company" name="company" value="{{ company.name }}">
                                        </div>
                                        <div class="form-group mb-2">
                                            <label for="email" class="form-label">Email I'd :</label>
                                            <input type="email" class="form-control" id="email" name="email" value="{{ company_profile.email }}">
                                        </div>
                                        <div class="form-group mb-2">
                                            <label for="phone_number" class="form-label">Phone Number :</label>
                                            <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ company_profile.phone_number }}">
                                        </div>
                                       
                                        <div class="form-group mb-2">
                                            <label for="gst_number" class="form-label">GST No :</label>
                                            <input type="text" class="form-control" id="gst_number" name="gst_number" value="{{ company_profile.gst_number }}">
                                        </div>
                                        <div class="form-group mb-2">
                                            <label for="address" class="form-label">Address :</label>
                                            <textarea class="form-control" rows="3" id="address" name="address">{{ company_profile.address }}</textarea>
                                        </div>
                                        <div class="form-group mb-3">
                                            <label for="area" class="form-label">Area :</label>
                                            <input type="text" class="form-control" id="area" name="area" value="{{ company_profile.area }}">
                                        </div>
                                        <div class="form-group mb-3">
                                            <label for="monthly_working_days" class="form-label">Working Days :</label>
                                            <input type="text" class="form-control" id="monthly_working_days" name="monthly_working_days" value="{{ company.monthly_working_days }}">
                                        </div>
                                        <div class="form-group mb-3">
                                            <label for="monthly_paid_leaves" class="form-label">Paid Leave :</label>
                                            <input type="text" class="form-control" id="monthly_paid_leaves" name="monthly_paid_leaves" value="{{ company.monthly_paid_leaves }}">
                                        </div>
                                        <button type="submit" class="btn btn-primary">Update Profile</button>
                                        
                                    </div>
                                </form>
                                
								</div>
															
							</div>
						</div>                       
                    </div>
				<!-- container-fluid -->
            </div>
            <!-- End Page-content -->

    <!--start back-to-top-->
    <button onclick="topFunction()" class="btn btn-danger btn-icon" id="back-to-top">
        <i class="ri-arrow-up-line"></i>
    </button>
    <!--end back-to-top-->

    <!--preloader-->
    <div id="preloader">
        <div id="status">
            <div class="spinner-border text-primary avatar-sm" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

   
    <!-- JAVASCRIPT -->
    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/simplebar/simplebar.min.js"></script>
    <script src="assets/libs/node-waves/waves.min.js"></script>
    <script src="assets/libs/feather-icons/feather.min.js"></script>
    <script src="assets/js/pages/plugins/lord-icon-2.1.0.js"></script>
    <script src="assets/js/plugins.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!--datatable js-->
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

    <script src="assets/js/pages/datatables.init.js"></script>
    <!-- App js -->
    <script src="assets/js/app.js"></script>
	
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <!-- <script>
        // var img=''
        // let imgF=document.querySelector('#upload-img')
        
        // document.querySelector('#attachment').addEventListener('change',function(){
        //    let file=this.files[0]
           
        //     const reader=new FileReader();

        //     reader.addEventListener('load',()=>{

        //       console.log(reader)

        //       imgF.setAttribute('src',reader.result)
            

                
  
      
        //     });
        //     reader.readAsDataURL(file)
        // });

        
        document.querySelector('#attachment').addEventListener('change', function(){
            let file = this.files[0];
            const reader = new FileReader();

            reader.addEventListener('load', () => {
                document.querySelector('#upload-img').setAttribute('src', reader.result);
            });

            reader.readAsDataURL(file);
        });

    </script> -->

	<script type="text/javascript">
            $(document).ready(function() {
                var i = 0;

                $(".add-row").click(function(event) {
                    event.preventDefault();
                    ++i;

                    var options = '';
                   

                    var newRow = '<tr><th scope="row"><div class="form-check"><input class="form-check-input fs-15" type="checkbox" name="checkAll" value="option1"></div></th><td>02</td><td><input type="text" name="" class="form-control"></td><td><input type="text" name="" class="form-control"></td><td><input type="text" name="" class="form-control"></td><td><input type="text" name="" class="form-control"></td><td><input type="text" name="" class="form-control"></td><td><button type="button" class="btn btn-danger btn-icon waves-effect waves-light remove-table-row"><i class="ri-delete-bin-5-line"></i></button></td></tr>';

                    $("#tabl").append(newRow);
                });

                $(document).on('click', '.remove-table-row', function() {
                    $(this).parents('tr').remove();
                });
            });
        </script>

<script>
    document.querySelector('#image').addEventListener('change', function(){
        let file = this.files[0];
        const reader = new FileReader();

        reader.addEventListener('load', () => {
            document.querySelector('#upload-img').setAttribute('src', reader.result);
        });

        reader.readAsDataURL(file);
    });
</script>


        
	
{% endblock header2 %}  